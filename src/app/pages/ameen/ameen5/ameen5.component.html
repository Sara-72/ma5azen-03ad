<app-header></app-header>

<div class="content d-flex flex-row">
  <aside class="sidebar">
    <h5>
      مرحبًا بك
      <span *ngIf="displayName">، {{ displayName }}</span>
    </h5>
    <ul class="mt-5">
      <li><a href="/ameen1">المخزن</a></li>
      <li><a href="/ameen2">دفتر اليومية</a></li>
      <li><a href="/ameen3">أذونات الصرف</a></li>
      <li><a href="/ameen4">دفاتر اليومية</a></li>
      <li class="active"><a>مخزنك</a></li>
      <li><a href="/ameen6">الجرد</a></li>
      <li><a href="/ameen7">عهد الموظفين</a></li>
    </ul>
  </aside>

<main class="content">
  <div class="table-container" dir="rtl">
    <h2 class="mb-4 fw-bold text-center" style="color: var(--primary-color);">
      عرض مخزنك
    </h2>

    <div class="mb-4 text-end">
      <label class="form-label fw-medium">اختر الفئة:</label>
      <select
        class="form-select w-sm-100 w-md-50 ms-auto"
        [(ngModel)]="selectedCategory"
        (change)="filterByCategory()"
      >
        <option value="">الكل</option>
        <option *ngFor="let cat of categories" [value]="cat">
          {{ cat }}
        </option>
      </select>
    </div>

    <div class="table-responsive">
      <div class="custom-scrollbar">
      <table class="custom-3d-table text-center">
        <thead>
          <tr>
            <th>الفئة</th>
            <th>الصنف</th>
            <th>حالة الصنف</th>
            <th>الوحدة</th>
            <th>العدد</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngIf="filteredStocks.length === 0">
            <td colspan="5">لا توجد بيانات متوفرة</td>
          </tr>
          <tr *ngFor="let stock of filteredStocks; trackBy: trackById">
            <td>{{ stock.category }}</td>
            <td>{{ stock.itemName }}</td>
            <td>{{ stock.storeType }}</td>
            <td>{{ stock.unit }}</td>
            <td>{{ stock.quantity }}</td>
          </tr>
        </tbody>
      </table>
    </div>

    <p class="d-md-none text-muted text-center mt-2 small">
      <i class="bi bi-arrow-left-right"></i> اسحب الجدول لليسار أو اليمين لمشاهدة باقي البيانات
    </p>
  </div>
  </div>
</main>
</div>
